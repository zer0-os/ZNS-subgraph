

type Domain @entity {
  id: ID!
  name: String
  labelName: String
  labelHash: Bytes
  parent: Domain
  subdomains: [Domain]!
  owner: Account!
  creator: Account!
  events: [DomainEvent!]!
}
interface DomainEvent {
  id: ID!#should this be the same ID as the domain?
  domain: Domain!
  blockNumber: Int!
  transactionId: Bytes!
}

type Transfer implements DomainEvent @entity {
  id: ID!
  domain: Domain!
  blockNumber: Int!
  transactionID: Bytes!
  owner: Account!
}


type Account @entity {
  id: ID!
  domains: [Domain!]! @derivedFrom(field: "owner")
}
